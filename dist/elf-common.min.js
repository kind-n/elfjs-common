/**
 * 
 * https://www.elfjs.org
 * 
 * @copyright 2018 Wu Hu. All Rights Reserved.
 * 
 * @version 2.0.0
 * @license MIT
 * 
 */
"use strict";!function(t){function e(n){return n.toLowerCase()}function l(n){return Array.isArray(n)}function s(n){return r(n)||i(n)||o(n)}function p(n){return null!=n}function r(n){return"string"==typeof n}function i(n){return"number"==typeof n}function o(n){return"boolean"==typeof n}function u(n){return!r(n)||""===n}function h(n){var t=n.tagName;return u(t)?null:e(t)}function v(n){var t=n.type;return u(t)?null:e(t)}function d(n){var t=n.name;return u(t)?null:t}function m(n){return n[t._GLOBAL_SYMBOL_RENDERER_].element.owner}function c(n){var t=h(n);if("select"===t)return!1;if("input"===t){var e=v(t);if("radio"===e||"checkbox"===e)return!1}return!0}function a(n){var t,e,r,i,o,u,c,a,s=h(n);if("input"===s){var f=v(n);"checkbox"===f?p(u=d(o=n))&&p(c=m(o))&&(a=o.value,o.checked?E(u,c,a,!0):function(n,t,e){for(var r=n.split("."),i=r.pop(),o=t,u=0,c=r.length;u<c&&(o=o[r[u]],p(t));u++);if(p(o))if(l(o[i])){for(var u=0,c=o[i].length;u<c;u++)if(o[i][u]==e){o[i].splice(u,1);break}}else o[i]==e&&(o[i]=null)}(u,c,a)):"radio"===f?p(e=d(t=n))&&p(r=m(t))&&(i=t.value,t.checked&&E(e,r,i)):g(n)}else"select"===s?function(n){var t,e,r;if(p(t=d(n))&&p(e=m(n))){var i=n.selectedOptions,o=n.multiple,u=i.length;if(o){r=[];for(var c=0;c<u;c++)r.push(i[c].value)}else r=0<u?i[0].value:null;E(t,e,r)}}(n):"textarea"===s&&g(n)}function g(n){var t,e;p(t=d(n))&&p(e=m(n))&&E(t,e,n.value)}function E(n,t,e,r){for(var i=n.split("."),o=i.pop(),u=t,c=0,a=i.length;c<a;c++)if(p(u[i[c]])||(u[i[c]]={}),s(u=u[i[c]]))throw new Error("Cannot act on basic types: "+n);if(r)if(l(u[o])){for(c=0,a=u[o].length;c<a;c++)if(u[o][c]==e)return;u[o].push(e)}else p(u[o])?u[o]=[u[o],e]:u[o]=e;else u[o]=e}var n=t.Directive("bind",{onInitial:function(n){t.attachEvent(n,"input",this),t.attachEvent(n,"change",this),t.attachEvent(n,"compositionend",this),t.attachEvent(n,"compositionstart",this)},onDispose:function(n){t.detachEvent(n,"input",this),t.detachEvent(n,"change",this),t.detachEvent(n,"compositionend",this),t.detachEvent(n,"compositionstart",this)},handleEvent:function(n){var t=n.target;switch(n.type){case"compositionstart":t.composing=!0;break;case"compositionend":t.composing=!1,c(t)&&a(t);break;case"input":c(t)&&!t.composing&&a(t);break;default:a(t)}}});t.isArray=l,t.isBasic=s,t.isEmpty=function(n){for(var t in n)return!1;return!0},t.isString=r,t.isNumber=i,t.isObject=function(n){return p(n)&&"object"==typeof n},t.isRegExp=function(n){return n instanceof RegExp},t.isBoolean=o,t.isFunction=function(n){return"function"==typeof n},t.parseQueryString=function(n){"?"!==n.charAt(0)&&"#"!==n.charAt(0)||(n=n.slice(0));for(var t,e,r={},i=n.split("&"),o=0;o<i.length;o++){var u=i[o].split("="),c=decodeURIComponent(u[0]),a=2===u.length?decodeURIComponent(u[1]):"";"true"===a?a=!0:"false"===a&&(a=!1),e=c,p(t=r)&&!s(t)&&e in t?l(r[c])?r[c].push(a):r[c]=[r[c],a]:r[c]=a}return r},t.buildQueryString=function(n){var t=[];for(var e in n){var r=encodeURIComponent(e);if(l(n[e]))for(var i=0;i<n[e].length;i++)t.push(r+"="+encodeURIComponent(n[e][i]));else t.push(r+"="+encodeURIComponent(n[e]))}return t.join("&")},t.common={BindDirective:n},t.depend(n)}("undefined"!=typeof exports?module.exports=require("elfjs"):this.Elf);